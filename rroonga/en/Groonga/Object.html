<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../ranguba.css" type="text/css" />
    <link rel="shortcut icon" href="../../../favicon.ico" />
    <link rel="icon" href="../../../favicon.png" />
    <title>
  Class: Groonga::Object
  
    &mdash; rroonga
  
 - Ranguba</title>


  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
<div class="header">
  <div class="title">
    <a href="../../../">
      <span class="title">
  Class: Groonga::Object
  
    &mdash; rroonga
  
</span>
      <span class="title-separator">-</span>
      <span class="title-project">Ranguba</span>
    </a>
  </div>
  <ul class="other-languages">
    <li id="other-language-japanese" lang="ja" xml:lang="ja"><a href="../../../rroonga/ja/Groonga/Object.html">日本語</a></li>
  </ul>
  <ul class="menu">
    <li id="menu-reference"><a href="../../../rroonga/en/">Reference Manual</a></li>
    <li id="menu-tutorial"><a href="../../../rroonga/en/file.tutorial.html">Tutorial</a></li>
    <li id="menu-install"><a href="../../../#install-rroonga">Install</a></li>
    <li id="menu-developer"><a href="../../../developer.html">Developer</a></li>
  </ul>
</div>

<div class="content">


    <div id="header">
      <div id="menu">
  
    <a href="../alphabetical_index.html">Index (O)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span>
     &raquo; 
    <span class="title">Object</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Groonga::Object
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Groonga::Object</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">ext/groonga/rb-grn-object.c<span class="defines">,<br />
  ext/groonga/rb-grn-object.c</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>rroongaが提供するクラスのベースとなるクラス。
<span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> と <span class='object_link'><a href="Logger.html" title="Groonga::Logger (class)">Logger</a></span> 以外はGroonga::Objectを継
承している。</p>

  </div>
</div>
<div class="tags">
  

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Accessor.html" title="Groonga::Accessor (class)">Accessor</a></span>, <span class='object_link'><a href="Column.html" title="Groonga::Column (class)">Column</a></span>, <span class='object_link'><a href="Database.html" title="Groonga::Database (class)">Database</a></span>, <span class='object_link'><a href="Expression.html" title="Groonga::Expression (class)">Expression</a></span>, <span class='object_link'><a href="IndexCursor.html" title="Groonga::IndexCursor (class)">IndexCursor</a></span>, <span class='object_link'><a href="Procedure.html" title="Groonga::Procedure (class)">Procedure</a></span>, <span class='object_link'><a href="Snippet.html" title="Groonga::Snippet (class)">Snippet</a></span>, <span class='object_link'><a href="Table.html" title="Groonga::Table (class)">Table</a></span>, <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span>, <span class='object_link'><a href="Variable.html" title="Groonga::Variable (class)">Variable</a></span></p>
</div>







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%3D%3D-instance_method" title="#== (instance method)">- (Boolean) <strong>==</strong>(other) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> と <em>other</em> が同じgroongaのオブジェクトなら <ins>true</ins> を返 し、そうでなければ <ins>false</ins> を返す。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">- (値) <strong>[]</strong>(id) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> の <em>id</em> に対応する値を返す。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D%3D-instance_method" title="#[]= (instance method)">- (Object) <strong>[]=</strong>(id, value) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> の <em>id</em> に対応する値を設定する。既存の値は上書きさ れる。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#append-instance_method" title="#append (instance method)">- (Object) <strong>append</strong>(id, value) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> の <em>id</em> に対応する値の最後に <em>value</em> を追加する。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#builtin%3F-instance_method" title="#builtin? (instance method)">- (Boolean) <strong>builtin?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#close-instance_method" title="#close (instance method)">- (Object) <strong>close</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> が使用しているリソースを開放する。これ以降 <em>object</em> を 使うことはできない。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#closed%3F-instance_method" title="#closed? (instance method)">- (Boolean) <strong>closed?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> が開放済みの場合は <ins>true</ins> を返し、そうでない場合は <ins>false</ins> を返す。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#domain-instance_method" title="#domain (instance method)">- (Groonga::Object or nil) <strong>domain</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> の属している <span class='object_link'><a href="" title="Groonga::Object (class)">Object</a></span> を返す。例えば、 <span class='object_link'><a href="Column.html" title="Groonga::Column (class)">Column</a></span> は <span class='object_link'><a href="Table.html" title="Groonga::Table (class)">Table</a></span> を返す。属している <span class='object_link'><a href="" title="Groonga::Object (class)">Object</a></span> がない場合は <ins>nil</ins> を返す。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">- (ID or nil) <strong>id</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> のIDを返す。 <em>object</em> が <span class='object_link'><a href="#closed%3F-instance_method" title="Groonga::Object#closed? (method)">#closed?</a></span> なときやIDがない場合は <ins>nil</ins> を返す。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (詳細情報) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> の詳細を示した文字列を返す。デバッグ用。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">- (名前 or nil) <strong>name</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> の名前を返す。無名オブジェクトの場合は <ins>nil</ins> を返す。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path-instance_method" title="#path (instance method)">- (ファイルパス or nil) <strong>path</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> に対応するファイルパスを返す。一時 <em>object</em> なら <ins>nil</ins> を返す。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#persistent%3F-instance_method" title="#persistent? (instance method)">- (Boolean) <strong>persistent?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> が永続オブジェクトなら <ins>true</ins> 、一時オブジェクトな ら <ins>false</ins> を返す。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prepend-instance_method" title="#prepend (instance method)">- (Object) <strong>prepend</strong>(id, value) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> の <em>id</em> に対応する値の最初に <em>value</em> を追加する。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#range-instance_method" title="#range (instance method)">- (Groonga::Object or nil) <strong>range</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> の値がとりうる範囲を示した <span class='object_link'><a href="" title="Groonga::Object (class)">Object</a></span> を返す。 例えば、 <span class='object_link'><a href="Column.html" title="Groonga::Column (class)">Column</a></span> の場合は <span class='object_link'><a href="Table.html#define_column-instance_method" title="Groonga::Table#define_column (method)">Table#define_column</a></span> で指定された <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span> や <span class='object_link'><a href="Table.html" title="Groonga::Table (class)">Table</a></span> を返す。 範囲が指定されていないオブジェクトの場合は <ins>nil</ins> を返す。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove-instance_method" title="#remove (instance method)">- (Object) <strong>remove</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> をメモリから解放し、それが永続オブジェクトであっ た場合は、該当するファイル一式を削除する。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#temporary%3F-instance_method" title="#temporary? (instance method)">- (Boolean) <strong>temporary?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> が一時オブジェクトなら <ins>true</ins> 、永続オブジェクトな ら <ins>false</ins> を返す。.</p></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unlink-instance_method" title="#unlink (instance method)">- (Object) <strong>unlink</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><em>object</em> のリファレンスカウンタを1減少する。.</p></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="==-instance_method">
  
    - (<tt>Boolean</tt>) <strong>==</strong>(other) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> と <em>other</em> が同じgroongaのオブジェクトなら <ins>true</ins> を返
し、そうでなければ <ins>false</ins> を返す。</p>

  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1182
1183
1184
1185
1186
1187
1188
1189
1190
1191
1192
1193
1194
1195
1196
1197
1198</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1182</span>

static VALUE
rb_grn_object_equal (VALUE self, VALUE other)
{
    RbGrnObject *self_rb_grn_object, *other_rb_grn_object;

    if (self == other)
        return Qtrue;

    if (!RVAL2CBOOL(rb_funcall(rb_obj_class(self), rb_intern(&quot;==&quot;), 1,
                               rb_obj_class(other))))
        return Qfalse;

    self_rb_grn_object = SELF(self);
    other_rb_grn_object = SELF(other);

    return self_rb_grn_object-&gt;object == other_rb_grn_object-&gt;object;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]-instance_method">
  
    - (<tt>値</tt>) <strong>[]</strong>(id) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> の <em>id</em> に対応する値を返す。</p>

  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>値</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1206
1207
1208
1209
1210
1211
1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234
1235
1236
1237
1238
1239
1240
1241
1242
1243
1244
1245
1246
1247
1248
1249
1250
1251
1252
1253
1254
1255
1256
1257
1258
1259
1260
1261
1262
1263
1264
1265
1266
1267
1268
1269
1270
1271
1272
1273</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1206</span>

VALUE
rb_grn_object_array_reference (VALUE self, VALUE rb_id)
{
    VALUE exception;
    RbGrnObject *rb_grn_object;
    grn_id id, range_id;
    grn_ctx *context;
    grn_obj *object;
    grn_obj *range;
    unsigned char range_type;
    grn_obj value;
    VALUE rb_value = Qnil;

    rb_grn_object = SELF(self);
    context = rb_grn_object-&gt;context;
    object = rb_grn_object-&gt;object;
    if (!object)
        return Qnil;

    id = NUM2UINT(rb_id);
    range_id = grn_obj_get_range(context, object);
    range = grn_ctx_at(context, range_id);
    range_type = range ? range-&gt;header.type : GRN_VOID;
    switch (object-&gt;header.type) {
      case GRN_TABLE_HASH_KEY:
      case GRN_TABLE_PAT_KEY:
      case GRN_TABLE_DAT_KEY:
      case GRN_TABLE_NO_KEY:
        GRN_OBJ_INIT(&amp;value, GRN_BULK, 0, GRN_ID_NIL);
        break;
      case GRN_TYPE:
      case GRN_ACCESSOR: /* FIXME */
        GRN_OBJ_INIT(&amp;value, GRN_BULK, 0, range_id);
        break;
      case GRN_COLUMN_VAR_SIZE:
      case GRN_COLUMN_FIX_SIZE:
        switch (object-&gt;header.flags &amp; GRN_OBJ_COLUMN_TYPE_MASK) {
          case GRN_OBJ_COLUMN_VECTOR:
            GRN_OBJ_INIT(&amp;value, GRN_VECTOR, 0, range_id);
            break;
          case GRN_OBJ_COLUMN_SCALAR:
            GRN_OBJ_INIT(&amp;value, GRN_BULK, 0, range_id);
            break;
          default:
            rb_raise(rb_eGrnError, &quot;unsupported column type: %u: %s&quot;,
                     range_type, rb_grn_inspect(self));
            break;
        }
        break;
      case GRN_COLUMN_INDEX:
        GRN_UINT32_INIT(&amp;value, 0);
        break;
      default:
        rb_raise(rb_eGrnError,
                 &quot;unsupported type: %s&quot;, rb_grn_inspect(self));
        break;
    }

    grn_obj_get_value(context, object, id, &amp;value);
    exception = rb_grn_context_to_exception(context, self);
    if (NIL_P(exception))
        rb_value = GRNVALUE2RVAL(context, &amp;value, range, self);
    grn_obj_unlink(context, &amp;value);
    if (!NIL_P(exception))
        rb_exc_raise(exception);

    return rb_value;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]=-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Groonga::Object (class)">Object</a></span></tt>) <strong>[]=</strong>(id, value) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> の <em>id</em> に対応する値を設定する。既存の値は上書きさ
れる。</p>

  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1400
1401
1402
1403
1404</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1400</span>

static VALUE
rb_grn_object_array_set (VALUE self, VALUE rb_id, VALUE rb_value)
{
    return rb_grn_object_set(self, rb_id, rb_value, GRN_OBJ_SET);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="append-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Groonga::Object (class)">Object</a></span></tt>) <strong>append</strong>(id, value) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> の <em>id</em> に対応する値の最後に <em>value</em> を追加する。</p>

  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1411
1412
1413
1414
1415</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1411</span>

static VALUE
rb_grn_object_append_value (VALUE self, VALUE rb_id, VALUE rb_value)
{
    return rb_grn_object_set(self, rb_id, rb_value, GRN_OBJ_APPEND);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="builtin?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>builtin?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1453
1454
1455
1456
1457
1458
1459
1460
1461
1462
1463
1464
1465
1466
1467
1468</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1453</span>

static VALUE
rb_grn_object_builtin_p (VALUE self)
{
    grn_ctx *context;
    grn_obj *object;
    grn_bool builtin = GRN_FALSE;

    rb_grn_object_deconstruct(SELF(self), &amp;object, &amp;context,
                              NULL, NULL, NULL, NULL);

    if (context &amp;&amp; object) {
        builtin = grn_obj_is_builtin(context, object);
    }

    return CBOOL2RVAL(builtin);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="close-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Groonga::Object (class)">Object</a></span></tt>) <strong>close</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> が使用しているリソースを開放する。これ以降 <em>object</em> を
使うことはできない。</p>

  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 559</span>

VALUE
rb_grn_object_close (VALUE self)
{
    RbGrnObject *rb_grn_object;
    grn_obj *object;
    grn_ctx *context;

    rb_grn_object = SELF(self);
    rb_grn_object_deconstruct(rb_grn_object, &amp;object, &amp;context,
                              NULL, NULL, NULL, NULL);
    if (object &amp;&amp; context) {
        rb_grn_object_run_finalizer(context, object, rb_grn_object);
        grn_obj_close(context, object);
    }

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="closed?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>closed?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> が開放済みの場合は <ins>true</ins> を返し、そうでない場合は
<ins>false</ins> を返す。</p>

  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


608
609
610
611
612
613
614
615
616
617
618
619</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 608</span>

VALUE
rb_grn_object_closed_p (VALUE self)
{
    RbGrnObject *rb_grn_object;

    rb_grn_object = SELF(self);
    if (rb_grn_object-&gt;context &amp;&amp; rb_grn_object-&gt;object) {
        return Qfalse;
    } else {
        return Qtrue;
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="domain-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Groonga::Object (class)">Groonga::Object</a></span> or nil</tt>) <strong>domain</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> の属している <span class='object_link'><a href="" title="Groonga::Object (class)">Groonga::Object</a></span> を返す。例えば、
<span class='object_link'><a href="Column.html" title="Groonga::Column (class)">Column</a></span> は <span class='object_link'><a href="Table.html" title="Groonga::Table (class)">Table</a></span> を返す。属している
<span class='object_link'><a href="" title="Groonga::Object (class)">Groonga::Object</a></span> がない場合は <ins>nil</ins> を返す。</p>

  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Groonga::Object (class)">Groonga::Object</a></span> or nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1077</span>

static VALUE
rb_grn_object_get_domain (VALUE self)
{
    RbGrnObject *rb_grn_object;
    grn_ctx *context;
    grn_obj *object;
    grn_id domain;

    rb_grn_object = SELF(self);
    object = rb_grn_object-&gt;object;
    if (!object)
        return Qnil;

    context = rb_grn_object-&gt;context;
    domain = object-&gt;header.domain;
    if (domain == GRN_ID_NIL) {
        return Qnil;
    } else {
        grn_obj *domain_object;

        domain_object = grn_ctx_at(context, domain);
        if (domain_object)
            return GRNOBJECT2RVAL(Qnil, context, domain_object, GRN_FALSE);
        else
            return UINT2NUM(domain);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="id-instance_method">
  
    - (<tt>ID or nil</tt>) <strong>id</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> のIDを返す。
<em>object</em> が <span class='object_link'><a href="#closed%3F-instance_method" title="Groonga::Object#closed? (method)">#closed?</a></span> なときやIDがない場合は <ins>nil</ins> を返す。</p>

  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>ID or nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


991
992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005
1006</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 991</span>

VALUE
rb_grn_object_get_id (VALUE self)
{
    RbGrnObject *rb_grn_object;
    grn_id id;

    rb_grn_object = SELF(self);
    if (!rb_grn_object-&gt;object)
        return Qnil;

    id = grn_obj_id(rb_grn_object-&gt;context, rb_grn_object-&gt;object);
    if (id == GRN_ID_NIL)
        return Qnil;
    else
        return UINT2NUM(id);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inspect-instance_method">
  
    - (<tt>詳細情報</tt>) <strong>inspect</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> の詳細を示した文字列を返す。デバッグ用。</p>

  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>詳細情報</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


971
972
973
974
975
976
977
978
979
980
981
982</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 971</span>

static VALUE
rb_grn_object_inspect (VALUE self)
{
    VALUE inspected;

    inspected = rb_str_new2(&quot;&quot;);
    rb_grn_object_inspect_header(self, inspected);
    rb_grn_object_inspect_content(self, inspected);
    rb_grn_object_inspect_footer(self, inspected);

    return inspected;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    - (<tt>名前 or nil</tt>) <strong>name</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> の名前を返す。無名オブジェクトの場合は <ins>nil</ins> を返す。</p>

  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>名前 or nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130
1131
1132
1133
1134
1135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1111</span>

static VALUE
rb_grn_object_get_name (VALUE self)
{
    RbGrnObject *rb_grn_object;
    VALUE rb_name;
    char *name;
    int name_size;

    rb_grn_object = SELF(self);
    if (!rb_grn_object-&gt;object)
        return Qnil;

    name_size = grn_obj_name(rb_grn_object-&gt;context, rb_grn_object-&gt;object,
                             NULL, 0);
    if (name_size == 0)
        return Qnil;

    name = xmalloc(name_size);
    grn_obj_name(rb_grn_object-&gt;context, rb_grn_object-&gt;object,
                 name, name_size);
    rb_name = rb_str_new(name, name_size);
    xfree(name);

    return rb_name;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="path-instance_method">
  
    - (<tt>ファイルパス or nil</tt>) <strong>path</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> に対応するファイルパスを返す。一時 <em>object</em>
なら <ins>nil</ins> を返す。</p>

  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>ファイルパス or nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028
1029
1030
1031</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1015</span>

static VALUE
rb_grn_object_get_path (VALUE self)
{
    RbGrnObject *rb_grn_object;
    const char *path;

    rb_grn_object = SELF(self);
    if (!rb_grn_object-&gt;object)
        return Qnil;

    path = grn_obj_path(rb_grn_object-&gt;context, rb_grn_object-&gt;object);

    if (!path)
        return Qnil;
    else
        return rb_str_new2(path);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="persistent?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>persistent?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> が永続オブジェクトなら <ins>true</ins> 、一時オブジェクトな
ら <ins>false</ins> を返す。</p>

  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1057</span>

static VALUE
rb_grn_object_persistent_p (VALUE self)
{
    RbGrnObject *rb_grn_object;

    rb_grn_object = SELF(self);
    if (!rb_grn_object-&gt;object)
        return Qnil;

    return CBOOL2RVAL(rb_grn_object-&gt;object-&gt;header.flags &amp; GRN_OBJ_PERSISTENT);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prepend-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Groonga::Object (class)">Object</a></span></tt>) <strong>prepend</strong>(id, value) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> の <em>id</em> に対応する値の最初に <em>value</em> を追加する。</p>

  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1422
1423
1424
1425
1426</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1422</span>

static VALUE
rb_grn_object_prepend_value (VALUE self, VALUE rb_id, VALUE rb_value)
{
    return rb_grn_object_set(self, rb_id, rb_value, GRN_OBJ_PREPEND);
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="range-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Groonga::Object (class)">Groonga::Object</a></span> or nil</tt>) <strong>range</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> の値がとりうる範囲を示した <span class='object_link'><a href="" title="Groonga::Object (class)">Groonga::Object</a></span> を返す。
例えば、 <span class='object_link'><a href="Column.html" title="Groonga::Column (class)">Column</a></span> の場合は
<span class='object_link'><a href="Table.html#define_column-instance_method" title="Groonga::Table#define_column (method)">Table#define_column</a></span> で指定された <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span> や
<span class='object_link'><a href="Table.html" title="Groonga::Table (class)">Table</a></span> を返す。
範囲が指定されていないオブジェクトの場合は <ins>nil</ins> を返す。</p>

  </div>
</div>
<div class="tags">
  
  <div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Groonga::Object (class)">Groonga::Object</a></span> or nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172
1173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1147</span>

static VALUE
rb_grn_object_get_range (VALUE self)
{
    RbGrnObject *rb_grn_object;
    grn_ctx *context;
    grn_obj *object;
    grn_id range;

    rb_grn_object = SELF(self);
    object = rb_grn_object-&gt;object;
    if (!object)
        return Qnil;

    context = rb_grn_object-&gt;context;
    range = grn_obj_get_range(context, object);
    if (range == GRN_ID_NIL) {
        return Qnil;
    } else {
        grn_obj *range_object;

        range_object = grn_ctx_at(context, range);
        if (range_object)
            return GRNOBJECT2RVAL(Qnil, context, range_object, GRN_FALSE);
        else
            return UINT2NUM(range);
    }
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Groonga::Object (class)">Object</a></span></tt>) <strong>remove</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> をメモリから解放し、それが永続オブジェクトであっ
た場合は、該当するファイル一式を削除する。</p>

  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1434
1435
1436
1437
1438
1439
1440
1441
1442
1443
1444
1445
1446
1447
1448
1449
1450
1451</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1434</span>

static VALUE
rb_grn_object_remove (VALUE self)
{
    RbGrnObject *rb_grn_object;
    grn_ctx *context;

    rb_grn_object = SELF(self);
    if (!rb_grn_object-&gt;object)
        return Qnil;

    context = rb_grn_object-&gt;context;
    grn_obj_remove(context, rb_grn_object-&gt;object);
    rb_grn_context_check(context, self);

    rb_iv_set(self, &quot;@context&quot;, Qnil);

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="temporary?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>temporary?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> が一時オブジェクトなら <ins>true</ins> 、永続オブジェクトな
ら <ins>false</ins> を返す。</p>

  </div>
</div>
<div class="tags">
  
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1039
1040
1041
1042
1043
1044
1045
1046
1047
1048
1049</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 1039</span>

static VALUE
rb_grn_object_temporary_p (VALUE self)
{
    RbGrnObject *rb_grn_object;

    rb_grn_object = SELF(self);
    if (!rb_grn_object-&gt;object)
        return Qnil;

    return CBOOL2RVAL(!(rb_grn_object-&gt;object-&gt;header.flags &amp; GRN_OBJ_PERSISTENT));
}</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unlink-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Groonga::Object (class)">Object</a></span></tt>) <strong>unlink</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><em>object</em> のリファレンスカウンタを1減少する。</p>

  </div>
</div>
<div class="tags">
  
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-object.c', line 582</span>

VALUE
rb_grn_object_unlink (VALUE self)
{
    RbGrnObject *rb_grn_object;
    grn_obj *object;
    grn_ctx *context;

    rb_grn_object = SELF(self);
    rb_grn_object_deconstruct(rb_grn_object, &amp;object, &amp;context,
                              NULL, NULL, NULL, NULL);
    if (object &amp;&amp; context) {
        if (!(rb_grn_object-&gt;object-&gt;header.flags &amp; GRN_OBJ_PERSISTENT)) {
            rb_grn_object_run_finalizer(context, object, rb_grn_object);
        }
        grn_obj_unlink(context, object);
    }

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer"></div>

  
    </div>

    <div class="sponsors">
      <p id="sponsor-github">
        <a href="https://github.com/ranguba/">
          <img src="../../../github-logo.png" width="100" height="45" border="0" alt="The Ranguba project uses GitHub's git repositories." />
        </a>
      </p>
      <p id="sponsor-tango">
	<a href="http://tango.freedesktop.org/">
          <img width="120" height="53" border="0" alt="Tango Desktop Project's icons are used." src="../../../tango-logo.png" />
        </a>
      </p>
      <p id="sponsor-famfamfam">
	<a href="http://www.famfamfam.com/">
          <img width="120" height="18" border="0" alt="famfamfam.com's flags are used." src="../../../famfamfam-logo.png" />
        </a>
      </p>
    </div>

</body>
</html>