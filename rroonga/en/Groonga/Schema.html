<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../../ranguba.css" type="text/css" />
    <link rel="shortcut icon" href="../../../favicon.ico" />
    <link rel="icon" href="../../../favicon.png" />
    <title>
  Class: Groonga::Schema
  
    &mdash; rroonga
  
 - Ranguba</title>


  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Groonga::Schema";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
<div class="header">
  <div class="title">
    <a href="../../../">
      <span class="title">
  Class: Groonga::Schema
  
    &mdash; rroonga
  
</span>
      <span class="title-separator">-</span>
      <span class="title-project">Ranguba</span>
    </a>
  </div>
  <ul class="other-languages">
    <li id="other-language-japanese" lang="ja" xml:lang="ja"><a href="../../../rroonga/ja/Groonga/Schema.html">日本語</a></li>
  </ul>
  <ul class="menu">
    <li id="menu-reference"><a href="../../../rroonga/en/">Reference Manual</a></li>
    <li id="menu-tutorial"><a href="../../../rroonga/en/file.tutorial.html">Tutorial</a></li>
    <li id="menu-install"><a href="../../../#install-rroonga">Install</a></li>
    <li id="menu-developer"><a href="../../../developer.html">Developer</a></li>
  </ul>
</div>

<div class="content">


      <div id="header">
        <div id="menu">
  
    <a href="../alphabetical_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span>
     &raquo; 
    <span class="title">Schema</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Groonga::Schema
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Groonga::Schema</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/groonga/schema.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>groongaのスキーマ（データ構造）を管理するクラス。</p>

<p><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span> を使うことにより簡単にテーブルやカラムを
追加・削除することができる。</p>

<p><img src="https://raw.githubusercontent.com/ranguba/rroonga/master/doc/images/sample-schema.png" alt="Sample schema" /></p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>上図のようなスキーマを定義する場合は以下のようになる。</p>
</div></p>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'>Schema</span><span class='period'>.</span><span class='id identifier rubyid_define'><span class='object_link'><a href="#define-class_method" title="Groonga::Schema.define (method)">define</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_create_table'>create_table</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Items</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
    <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_short_text'>short_text</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>title</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_create_table'>create_table</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Users</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
    <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_short_text'>short_text</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_create_table'>create_table</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>comments</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
    <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_reference'>reference</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>item</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Items</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_reference'>reference</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>author</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Users</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_time'>time</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>issued</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></code></pre>
    
  </div>


</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Schema/ColumnCreationWithDifferentOptions.html" title="Groonga::Schema::ColumnCreationWithDifferentOptions (class)">ColumnCreationWithDifferentOptions</a></span>, <span class='object_link'><a href="Schema/ColumnNotExists.html" title="Groonga::Schema::ColumnNotExists (class)">ColumnNotExists</a></span>, <span class='object_link'><a href="Schema/Error.html" title="Groonga::Schema::Error (class)">Error</a></span>, <span class='object_link'><a href="Schema/TableCreationWithDifferentOptions.html" title="Groonga::Schema::TableCreationWithDifferentOptions (class)">TableCreationWithDifferentOptions</a></span>, <span class='object_link'><a href="Schema/TableDefinition.html" title="Groonga::Schema::TableDefinition (class)">TableDefinition</a></span>, <span class='object_link'><a href="Schema/TableNotExists.html" title="Groonga::Schema::TableNotExists (class)">TableNotExists</a></span>, <span class='object_link'><a href="Schema/UnguessableReferenceTable.html" title="Groonga::Schema::UnguessableReferenceTable (class)">UnguessableReferenceTable</a></span>, <span class='object_link'><a href="Schema/UnknownIndexTarget.html" title="Groonga::Schema::UnknownIndexTarget (class)">UnknownIndexTarget</a></span>, <span class='object_link'><a href="Schema/UnknownIndexTargetTable.html" title="Groonga::Schema::UnknownIndexTargetTable (class)">UnknownIndexTargetTable</a></span>, <span class='object_link'><a href="Schema/UnknownOptions.html" title="Groonga::Schema::UnknownOptions (class)">UnknownOptions</a></span>, <span class='object_link'><a href="Schema/UnknownTableType.html" title="Groonga::Schema::UnknownTableType (class)">UnknownTableType</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_table-class_method" title="change_table (class method)">.<strong>change_table</strong>(name, options = {}, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>名前が <em>name</em> のテーブルを変更する。以下の省略形。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_table-class_method" title="create_table (class method)">.<strong>create_table</strong>(name, options = {}, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>名前が <em>name</em> のテーブルを作成する。以下の省略形。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#define-class_method" title="define (class method)">.<strong>define</strong>(options = {}) {|schema| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>スキーマを定義する。ブロックには <span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span> オブ ジェクトがわたるので、そのオブジェクトを利用してスキー マを定義する。以下の省略形。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dump-class_method" title="dump (class method)">.<strong>dump</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>スキーマの内容を文字列をRubyスクリプト形式またはgrn式 形式で返す。デフォルトはRubyスクリプト形式である。 Rubyスクリプト形式で返された値は <span class='object_link'><a href="#restore-class_method" title="Groonga::Schema.restore (method)">Schema.restore</a></span> することによりスキーマ内に組み 込むことができる。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_column-class_method" title="remove_column (class method)">.<strong>remove_column</strong>(table_name, column_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>以下と同様:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_table-class_method" title="remove_table (class method)">.<strong>remove_table</strong>(name, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>名前が <em>name</em> のテーブルを削除する。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rename_column-class_method" title="rename_column (class method)">.<strong>rename_column</strong>(table_name, current_column_name, new_column_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>This is a syntax sugar of the following:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rename_table-class_method" title="rename_table (class method)">.<strong>rename_table</strong>(current_name, new_name, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>(See Groonga::Schema#rename_table).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restore-class_method" title="restore (class method)">.<strong>restore</strong>(dumped_text, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><span class='object_link'><a href="#dump-class_method" title="Groonga::Schema.dump (method)">Schema.dump</a></span> で文字列化したスキーマを組み込む。.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_table-instance_method" title="#change_table (instance method)">#<strong>change_table</strong>(name, options = {}) {|definition| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>名前が <em>name</em> のテーブルを変更する。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_lexicon-instance_method" title="#create_lexicon (instance method)">#<strong>create_lexicon</strong>(name, use_case: :full_text_search, **options, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_table-instance_method" title="#create_table (instance method)">#<strong>create_table</strong>(name, options = {}) {|definition| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>名前が <em>name</em> のテーブルを作成する。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#define-instance_method" title="#define (instance method)">#<strong>define</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>定義されたスキーマ定義を実際に実行する。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dump-instance_method" title="#dump (instance method)">#<strong>dump</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>スキーマの内容を文字列で返す。返された値は <span class='object_link'><a href="#restore-instance_method" title="Groonga::Schema#restore (method)">#restore</a></span> することによりスキーマ内に組み込むことができる。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(options = {})  &#x21d2; Schema </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>スキーマ定義を開始する。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_column-instance_method" title="#remove_column (instance method)">#<strong>remove_column</strong>(table_name, column_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>以下と同様:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_table-instance_method" title="#remove_table (instance method)">#<strong>remove_table</strong>(name, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>名前が <em>name</em> のテーブルを削除する。.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rename_column-instance_method" title="#rename_column (instance method)">#<strong>rename_column</strong>(table_name, current_column_name, new_column_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>It is a syntax sugar of the following:.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#rename_table-instance_method" title="#rename_table (instance method)">#<strong>rename_table</strong>(current_name, new_name, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Renames <em>current_name</em> table to _new_name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#restore-instance_method" title="#restore (instance method)">#<strong>restore</strong>(dumped_text)  &#x21d2; Object </a>
    

    
      (also: #load)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p><span class='object_link'><a href="#dump-instance_method" title="Groonga::Schema#dump (method)">#dump</a></span> で返されたスキーマの内容を読み込む。.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(options = {})  &#x21d2; <tt><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>スキーマ定義を開始する。</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context
スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


620
621
622
623
624</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 620</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='ivar'>@options</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:context</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span></span><span class='period'>.</span><span class='id identifier rubyid_default'>default</span>
  <span class='ivar'>@definitions</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="change_table-class_method">
  
    .<strong>change_table</strong>(name, options = {}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>名前が <em>name</em> のテーブルを変更する。以下の省略形。</p>

<pre class="code ruby"><code class="ruby"><span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define'><span class='object_link'><a href="#define-class_method" title="Groonga::Schema.define (method)">define</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_change_table'>change_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>ブロックには <span class='object_link'><a href="Schema/TableDefinition.html" title="Groonga::Schema::TableDefinition (class)">TableDefinition</a></span> オブジェ
クトがわたるので、そのオブジェクトを利用してテーブル
の詳細を定義する。</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
    </ul>
  
    
    


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


416
417
418
419
420</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 416</span>

<span class='kw'>def</span> <span class='id identifier rubyid_change_table'>change_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_define'>define</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
    <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_change_table'>change_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_table-class_method">
  
    
      <span class="overload">.<strong>create_table</strong>(name, options = {:type =&gt; :array}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">.<strong>create_table</strong>(name, options = {:type =&gt; :hash}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">.<strong>create_table</strong>(name, options = {:type =&gt; :patricia_trie}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">.<strong>create_table</strong>(name, options = {:type =&gt; :double_array_trie})  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>名前が <em>name</em> のテーブルを作成する。以下の省略形。</p>

<pre class="code ruby"><code class="ruby"><span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define'><span class='object_link'><a href="#define-class_method" title="Groonga::Schema.define (method)">define</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_create_table'>create_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
    <span class='comment'># ...
</span>  <span class='kw'>end</span>
<span class='kw'>end</span>
</code></pre>

<p>ブロックには <span class='object_link'><a href="Schema/TableDefinition.html" title="Groonga::Schema::TableDefinition (class)">TableDefinition</a></span> オブジェ
クトがわたるので、そのオブジェクトを利用してテーブル
の詳細を定義する。</p>

<p><em>options</em> に指定可能な値は以下の通り。</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">.<strong>create_table</strong>(name, options = {:type =&gt; :array}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Create a table that manages records by ID when you specify
<code>:array</code> to <code>:type</code>.</p>

<p>You can identify a record only by record ID. You can’t use
key because key doesn’t exist in the table.</p>

<p>See description of <code>TABLE_NO_KEY</code> at <a href="http://groonga.org/docs/reference/tables.html">Groonga documentation
of tables</a>
for details.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{:type =&gt; :array}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:type</span>
          <span class="type">(<tt>:array</tt>, <tt>:hash</tt>, <tt>:patricia_trie</tt>, <tt>:double_array_trie</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The table type</p>

<p>テーブルの型を指定する。
<code>:array</code>, <code>:hash</code>, <code>:patricia_trie</code>,
<code>:double_array_trie</code> のいずれかを指定する。
(:key_typeの項も参照)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:force</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p><code>true</code>を指定すると既存の同名のテーブルが
存在していても、強制的にテーブルを作成する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Groonga::Context</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:path</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The path</p>

<p>テーブルを保存するパスを指定する。
パスを指定すると永続テーブルになる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:persistent</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The persistent</p>

<p>テーブルを永続テーブルとする。<code>:path</code>を省略した場合は
パス名は自動的に作成される。デフォルトでは永続テーブルとなる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:value_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The value_type</p>

<p>値の型を指定する。省略すると値のための領域を確保しない。
値を保存したい場合は必ず指定すること。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:sub_records</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The sub_records</p>

<p><code>true</code>を指定するとTable#groupで
グループ化したときに、<span class='object_link'><a href="Record.html#n_sub_records-instance_method" title="Groonga::Record#n_sub_records (method)">Record#n_sub_records</a></span>でグループに
含まれるレコードの件数を取得できる。</p>
</div>
          
        </li>
      
    </ul>
  
    
    


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>create_table</strong>(name, options = {:type =&gt; :hash}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Create a table that manages record keys by hash table when
you specify <code>:hash</code> to <code>:type</code>.</p>

<p>You can identify a record by key. The table is most fast
table for finding a record by key. But the table doesn’t
support advanced key search features such as common prefix
search and range search.</p>

<p>See description of <code>TABLE_HASH_KEY</code> at <a href="http://groonga.org/docs/reference/tables.html">Groonga documentation
of tables</a>
for details.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{:type =&gt; :hash}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:type</span>
          <span class="type">(<tt>:array</tt>, <tt>:hash</tt>, <tt>:patricia_trie</tt>, <tt>:double_array_trie</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The table type</p>

<p>テーブルの型を指定する。
<code>:array</code>, <code>:hash</code>, <code>:patricia_trie</code>,
<code>:double_array_trie</code> のいずれかを指定する。
(:key_typeの項も参照)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:force</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p><code>true</code>を指定すると既存の同名のテーブルが
存在していても、強制的にテーブルを作成する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Groonga::Context</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:path</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The path</p>

<p>テーブルを保存するパスを指定する。
パスを指定すると永続テーブルになる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:persistent</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The persistent</p>

<p>テーブルを永続テーブルとする。<code>:path</code>を省略した場合は
パス名は自動的に作成される。デフォルトでは永続テーブルとなる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:value_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The value_type</p>

<p>値の型を指定する。省略すると値のための領域を確保しない。
値を保存したい場合は必ず指定すること。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:sub_records</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The sub_records</p>

<p><code>true</code>を指定するとTable#groupで
グループ化したときに、<span class='object_link'><a href="Record.html#n_sub_records-instance_method" title="Groonga::Record#n_sub_records (method)">Record#n_sub_records</a></span>でグループに
含まれるレコードの件数を取得できる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The key_type</p>

<p>キーの種類を示すオブジェクトを指定する。キーの種類には型名
（<code>"Int32"</code>や<code>"ShortText"</code>など）または <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span>また
はテーブル（ <span class='object_link'><a href="Array.html" title="Groonga::Array (class)">Array</a></span> 、 <span class='object_link'><a href="Hash.html" title="Groonga::Hash (class)">Hash</a></span> 、
<span class='object_link'><a href="PatriciaTrie.html" title="Groonga::PatriciaTrie (class)">PatriciaTrie</a></span> 、 <span class='object_link'><a href="DoubleArrayTrie.html" title="Groonga::DoubleArrayTrie (class)">DoubleArrayTrie</a></span> のど
れか）を指定する。 <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span> を指定した場合は、その
型が示す範囲の値をキーとして使用する。ただし、キーの最大サ
イズは4096バイトであるため、 Type::TEXT や
Type::LONG_TEXT は使用できない。テーブルを指定
した場合はレコードIDをキーとして使用する。指定したテーブル
の <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> をキーとして使用することもでき、その
場合は自動的に <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> からレコードIDを取得する。
省略した場合は文字列をキーとして使用する。この場合、4096バ
イトまで使用可能である。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:default_tokenizer</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The default_tokenizer</p>

<p><span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> で
使用するトークナイザを指定する。デフォルトでは
何も設定されていないので、テーブルに
<span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> を定義する場合は <code>"TokenBigram"</code>
などを指定する必要がある。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:token_filters</span>
          <span class="type">(<tt>::Array&lt;String, Groonga::Procedure&gt;</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The token filters to be used
in the table.</p>

<p>Here is an example to set two token filters.</p>

<p><code>ruby
Groonga::Schema.define do |schema|
  schema.create_table("Terms",
                      # ...
                      :token_filters =&gt; [
                        "TokenFilterStem",
                        "TokenFilterStopWord",
                      ]) do |table|
    # ...
  end
end
</code></p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_normalize</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Keys are normalized
if this value is <code>true</code>.</p>

<p>@deprecated Use <code>:normalizer =&gt; "NormalizerAuto"</code> instead.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:normalizer</span>
          <span class="type">(<tt>String</tt>, <tt>Groonga::Procedure</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The normalizer that is used by <span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span>. You
can specify this by normalizer name as String such as
<code>"NormalizerAuto"</code> or normalizer object.</p>
</div>
          
        </li>
      
    </ul>
  
    
    


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>create_table</strong>(name, options = {:type =&gt; :patricia_trie}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Create a table that manages record keys by patricia trie
when you specify <code>:patricia_trie</code> to <code>:type</code>.</p>

<p>You can identify a record by key. The table is most small
table. The table supports advanced key search features such
as prefix search and range search. The table is suitable for
lexicon of full-text search and index of range search.</p>

<p>See description of <code>TABLE_PAT_KEY</code> at <a href="http://groonga.org/docs/reference/tables.html">Groonga documentation
of tables</a>
for details.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{:type =&gt; :patricia_trie}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:type</span>
          <span class="type">(<tt>:array</tt>, <tt>:hash</tt>, <tt>:patricia_trie</tt>, <tt>:double_array_trie</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The table type</p>

<p>テーブルの型を指定する。
<code>:array</code>, <code>:hash</code>, <code>:patricia_trie</code>,
<code>:double_array_trie</code> のいずれかを指定する。
(:key_typeの項も参照)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:force</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p><code>true</code>を指定すると既存の同名のテーブルが
存在していても、強制的にテーブルを作成する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Groonga::Context</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:path</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The path</p>

<p>テーブルを保存するパスを指定する。
パスを指定すると永続テーブルになる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:persistent</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The persistent</p>

<p>テーブルを永続テーブルとする。<code>:path</code>を省略した場合は
パス名は自動的に作成される。デフォルトでは永続テーブルとなる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:value_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The value_type</p>

<p>値の型を指定する。省略すると値のための領域を確保しない。
値を保存したい場合は必ず指定すること。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:sub_records</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The sub_records</p>

<p><code>true</code>を指定するとTable#groupで
グループ化したときに、<span class='object_link'><a href="Record.html#n_sub_records-instance_method" title="Groonga::Record#n_sub_records (method)">Record#n_sub_records</a></span>でグループに
含まれるレコードの件数を取得できる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The key_type</p>

<p>キーの種類を示すオブジェクトを指定する。キーの種類には型名
（<code>"Int32"</code>や<code>"ShortText"</code>など）または <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span>また
はテーブル（ <span class='object_link'><a href="Array.html" title="Groonga::Array (class)">Array</a></span> 、 <span class='object_link'><a href="Hash.html" title="Groonga::Hash (class)">Hash</a></span> 、
<span class='object_link'><a href="PatriciaTrie.html" title="Groonga::PatriciaTrie (class)">PatriciaTrie</a></span> 、 <span class='object_link'><a href="DoubleArrayTrie.html" title="Groonga::DoubleArrayTrie (class)">DoubleArrayTrie</a></span> のど
れか）を指定する。 <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span> を指定した場合は、その
型が示す範囲の値をキーとして使用する。ただし、キーの最大サ
イズは4096バイトであるため、 Type::TEXT や
Type::LONG_TEXT は使用できない。テーブルを指定
した場合はレコードIDをキーとして使用する。指定したテーブル
の <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> をキーとして使用することもでき、その
場合は自動的に <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> からレコードIDを取得する。
省略した場合は文字列をキーとして使用する。この場合、4096バ
イトまで使用可能である。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:default_tokenizer</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The default_tokenizer</p>

<p><span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> で
使用するトークナイザを指定する。デフォルトでは
何も設定されていないので、テーブルに
<span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> を定義する場合は <code>"TokenBigram"</code>
などを指定する必要がある。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:token_filters</span>
          <span class="type">(<tt>::Array&lt;String, Groonga::Procedure&gt;</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The token filters to be used
in the table.</p>

<p>Here is an example to set two token filters.</p>

<p><code>ruby
Groonga::Schema.define do |schema|
  schema.create_table("Terms",
                      # ...
                      :token_filters =&gt; [
                        "TokenFilterStem",
                        "TokenFilterStopWord",
                      ]) do |table|
    # ...
  end
end
</code></p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_normalize</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Keys are normalized
if this value is <code>true</code>.</p>

<p>@deprecated Use <code>:normalizer =&gt; "NormalizerAuto"</code> instead.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:normalizer</span>
          <span class="type">(<tt>String</tt>, <tt>Groonga::Procedure</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The normalizer that is used by <span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span>. You
can specify this by normalizer name as String such as
<code>"NormalizerAuto"</code> or normalizer object.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_with_sis</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>+true+ を指定するとキーの文字列の
全suffixが自動的に登録される。</p>
</div>
          
        </li>
      
    </ul>
  
    
    


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">.<strong>create_table</strong>(name, options = {:type =&gt; :double_array_trie})  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Create a table that manages record keys by double array trie
when you specify <code>:double_array_trie</code> to <code>:type</code>.</p>

<p>You can identify a record by key. The table is fast table
for finding a record by key. But the table is large. The
table supports advanced key search features such as prefix
search and range search.</p>

<p>The table is the only table that supports renaming key. The
table is used in Groonga database to manage object names
such as <code>ShortText</code> and <code>TokenBigram</code>.</p>

<p>See description of <code>TABLE_DAT_KEY</code> at <a href="http://groonga.org/docs/reference/tables.html">Groonga documentation
of tables</a>
for details.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{:type =&gt; :double_array_trie}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:type</span>
          <span class="type">(<tt>:array</tt>, <tt>:hash</tt>, <tt>:patricia_trie</tt>, <tt>:double_array_trie</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The table type</p>

<p>テーブルの型を指定する。
<code>:array</code>, <code>:hash</code>, <code>:patricia_trie</code>,
<code>:double_array_trie</code> のいずれかを指定する。
(:key_typeの項も参照)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:force</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p><code>true</code>を指定すると既存の同名のテーブルが
存在していても、強制的にテーブルを作成する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Groonga::Context</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:path</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The path</p>

<p>テーブルを保存するパスを指定する。
パスを指定すると永続テーブルになる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:persistent</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The persistent</p>

<p>テーブルを永続テーブルとする。<code>:path</code>を省略した場合は
パス名は自動的に作成される。デフォルトでは永続テーブルとなる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:value_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The value_type</p>

<p>値の型を指定する。省略すると値のための領域を確保しない。
値を保存したい場合は必ず指定すること。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:sub_records</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The sub_records</p>

<p><code>true</code>を指定するとTable#groupで
グループ化したときに、<span class='object_link'><a href="Record.html#n_sub_records-instance_method" title="Groonga::Record#n_sub_records (method)">Record#n_sub_records</a></span>でグループに
含まれるレコードの件数を取得できる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The key_type</p>

<p>キーの種類を示すオブジェクトを指定する。キーの種類には型名
（<code>"Int32"</code>や<code>"ShortText"</code>など）または <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span>また
はテーブル（ <span class='object_link'><a href="Array.html" title="Groonga::Array (class)">Array</a></span> 、 <span class='object_link'><a href="Hash.html" title="Groonga::Hash (class)">Hash</a></span> 、
<span class='object_link'><a href="PatriciaTrie.html" title="Groonga::PatriciaTrie (class)">PatriciaTrie</a></span> 、 <span class='object_link'><a href="DoubleArrayTrie.html" title="Groonga::DoubleArrayTrie (class)">DoubleArrayTrie</a></span> のど
れか）を指定する。 <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span> を指定した場合は、その
型が示す範囲の値をキーとして使用する。ただし、キーの最大サ
イズは4096バイトであるため、 Type::TEXT や
Type::LONG_TEXT は使用できない。テーブルを指定
した場合はレコードIDをキーとして使用する。指定したテーブル
の <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> をキーとして使用することもでき、その
場合は自動的に <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> からレコードIDを取得する。
省略した場合は文字列をキーとして使用する。この場合、4096バ
イトまで使用可能である。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:default_tokenizer</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The default_tokenizer</p>

<p><span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> で
使用するトークナイザを指定する。デフォルトでは
何も設定されていないので、テーブルに
<span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> を定義する場合は <code>"TokenBigram"</code>
などを指定する必要がある。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:token_filters</span>
          <span class="type">(<tt>::Array&lt;String, Groonga::Procedure&gt;</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The token filters to be used
in the table.</p>

<p>Here is an example to set two token filters.</p>

<p><code>ruby
Groonga::Schema.define do |schema|
  schema.create_table("Terms",
                      # ...
                      :token_filters =&gt; [
                        "TokenFilterStem",
                        "TokenFilterStopWord",
                      ]) do |table|
    # ...
  end
end
</code></p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_normalize</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Keys are normalized
if this value is <code>true</code>.</p>

<p>@deprecated Use <code>:normalizer =&gt; "NormalizerAuto"</code> instead.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:normalizer</span>
          <span class="type">(<tt>String</tt>, <tt>Groonga::Procedure</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The normalizer that is used by <span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span>. You
can specify this by normalizer name as String such as
<code>"NormalizerAuto"</code> or normalizer object.</p>
</div>
          
        </li>
      
    </ul>
  


</div>
      </li>
    
  </ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


379
380
381
382
383</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 379</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_table'>create_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_define'>define</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
    <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_create_table'>create_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="define-class_method">
  
    .<strong>define</strong>(options = {}) {|schema| ... } &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>スキーマを定義する。ブロックには <span class='object_link'><a href="" title="Groonga::Schema (class)">Groonga::Schema</a></span> オブ
ジェクトがわたるので、そのオブジェクトを利用してスキー
マを定義する。以下の省略形。</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_schema'>schema</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'>Scheme</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span><span class='comment'># ...
</span>
<span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_define'>define</span>
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:content</span>
          <span class="type">(<tt><span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Groonga::Context</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>schema</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


168
169
170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 168</span>

<span class='kw'>def</span> <span class='id identifier rubyid_define'>define</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_schema'>schema</span> <span class='op'>=</span> <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_schema'>schema</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_define'>define</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dump-class_method">
  
    .<strong>dump</strong>(options = {})  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>スキーマの内容を文字列をRubyスクリプト形式またはgrn式
形式で返す。デフォルトはRubyスクリプト形式である。
Rubyスクリプト形式で返された値は
<span class='object_link'><a href="#restore-class_method" title="Groonga::Schema.restore (method)">restore</a></span> することによりスキーマ内に組み
込むことができる。</p>

<p>dump.rb:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/groonga-schema.rb</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_dumped_text'>dumped_text</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span>
<span class='kw'>end</span>
</code></pre>

<p>restore.rb:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_dumped_text'>dumped_text</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span>
<span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Database.html" title="Groonga::Database (class)">Database</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='symbol'>:path</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/new-db.grn</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span></span><span class='period'>.</span><span class='id identifier rubyid_restore'><span class='object_link'><a href="#restore-class_method" title="Groonga::Schema.restore (method)">restore</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_dumped_text'>dumped_text</span><span class='rparen'>)</span>
</code></pre>

<p>grn式形式で返された値はgroongaコマンドで読み込むこと
ができる。</p>

<p>dump.rb:</p>

<pre class="code ruby"><code class="ruby"><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/tmp/groonga-schema.grn</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>w</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_dumped_text'>dumped_text</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span></span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='symbol'>:syntax</span> <span class='op'>=&gt;</span> <span class='symbol'>:command</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>

<pre class="code text"><code class="text">% groonga db/path &lt; /tmp/groonga-schema.grn
</code></pre>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:syntax</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The syntax</p>

<p>スキーマの文字列の形式を指定する。指定可能な値は以下の通り。
+:ruby+ Rubyスクリプト形式。省略した場合、+nil+ の場合も
Rubyスクリプト形式になる。
+:command+ groongaコマンド形式。groongaコマンドで読み込む
ことができる。</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


520
521
522
523
524</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 520</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_schema'>schema</span> <span class='op'>=</span> <span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:context</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:context</span><span class='rbracket'>]</span><span class='comma'>,</span>
               <span class='symbol'>:syntax</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:syntax</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_column-class_method">
  
    .<strong>remove_column</strong>(table_name, column_name)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>以下と同様:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span></span><span class='period'>.</span><span class='id identifier rubyid_change_table'><span class='object_link'><a href="#change_table-class_method" title="Groonga::Schema.change_table (method)">change_table</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
  <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_remove_column'>remove_column</span><span class='lparen'>(</span><span class='id identifier rubyid_column_name'>column_name</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


446
447
448
449
450</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 446</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_column'>remove_column</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_column_name'>column_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_change_table'>change_table</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
    <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_remove_column'>remove_column</span><span class='lparen'>(</span><span class='id identifier rubyid_column_name'>column_name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_table-class_method">
  
    .<strong>remove_table</strong>(name, options = {})  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>名前が <em>name</em> のテーブルを削除する。</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


390
391
392
393
394</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 390</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_table'>remove_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_define'>define</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
    <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_remove_table'>remove_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rename_column-class_method">
  
    .<strong>rename_column</strong>(table_name, current_column_name, new_column_name)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>This is a syntax sugar of the following:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define'><span class='object_link'><a href="#define-class_method" title="Groonga::Schema.define (method)">define</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_rename_column'>rename_column</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span>
                       <span class='id identifier rubyid_current_column_name'>current_column_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_column_name'>new_column_name</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


461
462
463
464
465</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 461</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rename_column'>rename_column</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_current_column_name'>current_column_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_column_name'>new_column_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_define'>define</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
    <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_rename_column'>rename_column</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_current_column_name'>current_column_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_column_name'>new_column_name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rename_table-class_method">
  
    .<strong>rename_table</strong>(current_name, new_name, options = {})  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>(See Groonga::Schema#rename_table)</p>

<p>This is a syntax sugar of the following code:</p>

<pre class="code ruby"><code class="ruby"><span class='const'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="" title="Groonga::Schema (class)">Schema</a></span></span><span class='period'>.</span><span class='id identifier rubyid_define'><span class='object_link'><a href="#define-class_method" title="Groonga::Schema.define (method)">define</a></span></span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
  <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_rename_table'>rename_table</span><span class='lparen'>(</span><span class='id identifier rubyid_current_name'>current_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


432
433
434
435
436</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 432</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rename_table'>rename_table</span><span class='lparen'>(</span><span class='id identifier rubyid_current_name'>current_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_define'>define</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
    <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_rename_table'>rename_table</span><span class='lparen'>(</span><span class='id identifier rubyid_current_name'>current_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restore-class_method">
  
    .<strong>restore</strong>(dumped_text, options = {})  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><span class='object_link'><a href="#dump-class_method" title="Groonga::Schema.dump (method)">dump</a></span> で文字列化したスキーマを組み込む。</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


527
528
529
530
531</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 527</span>

<span class='kw'>def</span> <span class='id identifier rubyid_restore'>restore</span><span class='lparen'>(</span><span class='id identifier rubyid_dumped_text'>dumped_text</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_define'>define</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_schema'>schema</span><span class='op'>|</span>
    <span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_restore'>restore</span><span class='lparen'>(</span><span class='id identifier rubyid_dumped_text'>dumped_text</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="change_table-instance_method">
  
    #<strong>change_table</strong>(name, options = {}) {|definition| ... } &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>名前が <em>name</em> のテーブルを変更する。</p>

<p>テーブルの変更は <span class='object_link'><a href="#define-instance_method" title="Groonga::Schema#define (method)">#define</a></span> を呼び出すまでは実行されないこ
とに注意すること。</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>definition</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


713
714
715
716
717
718</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 713</span>

<span class='kw'>def</span> <span class='id identifier rubyid_change_table'>change_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='symbol'>:change</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_definition'>definition</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Schema/TableDefinition.html" title="Groonga::Schema::TableDefinition (class)">TableDefinition</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_definition'>definition</span><span class='rparen'>)</span>
  <span class='ivar'>@definitions</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_definition'>definition</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_lexicon-instance_method">
  
    #<strong>create_lexicon</strong>(name, use_case: :full_text_search, **options, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


675
676
677
678
679
680
681
682
683
684
685
686</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 675</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_lexicon'>create_lexicon</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
                   <span class='label'>use_case:</span> <span class='symbol'>:full_text_search</span><span class='comma'>,</span>
                   <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_use_case'>use_case</span>
  <span class='kw'>when</span> <span class='symbol'>:full_text_search</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:type</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='symbol'>:patricia_trie</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:key_type</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='symbol'>:short_text</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:default_tokenizer</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TokenBigram</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:normalizer</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NormalizerAuto</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_create_table'>create_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_table-instance_method">
  
    
      <span class="overload">#<strong>create_table</strong>(name, options = {:type =&gt; :array}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>create_table</strong>(name, options = {:type =&gt; :hash}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>create_table</strong>(name, options = {:type =&gt; :patricia_trie}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
    
      <span class="overload">#<strong>create_table</strong>(name, options = {:type =&gt; :double_array_trie})  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>名前が <em>name</em> のテーブルを作成する。</p>

<p>テーブルの作成は <span class='object_link'><a href="#define-instance_method" title="Groonga::Schema#define (method)">#define</a></span> を呼び出すまでは実行されないこ
とに注意すること。</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">#<strong>create_table</strong>(name, options = {:type =&gt; :array}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Create a table that manages records by ID when you specify
<code>:array</code> to <code>:type</code>.</p>

<p>You can identify a record only by record ID. You can’t use
key because key doesn’t exist in the table.</p>

<p>See description of <code>TABLE_NO_KEY</code> at <a href="http://groonga.org/docs/reference/tables.html">Groonga documentation
of tables</a>
for details.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{:type =&gt; :array}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:type</span>
          <span class="type">(<tt>:array</tt>, <tt>:hash</tt>, <tt>:patricia_trie</tt>, <tt>:double_array_trie</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The table type</p>

<p>テーブルの型を指定する。
<code>:array</code>, <code>:hash</code>, <code>:patricia_trie</code>,
<code>:double_array_trie</code> のいずれかを指定する。
(:key_typeの項も参照)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:force</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p><code>true</code>を指定すると既存の同名のテーブルが
存在していても、強制的にテーブルを作成する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Groonga::Context</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:path</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The path</p>

<p>テーブルを保存するパスを指定する。
パスを指定すると永続テーブルになる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:persistent</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The persistent</p>

<p>テーブルを永続テーブルとする。<code>:path</code>を省略した場合は
パス名は自動的に作成される。デフォルトでは永続テーブルとなる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:value_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The value_type</p>

<p>値の型を指定する。省略すると値のための領域を確保しない。
値を保存したい場合は必ず指定すること。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:sub_records</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The sub_records</p>

<p><code>true</code>を指定するとTable#groupで
グループ化したときに、<span class='object_link'><a href="Record.html#n_sub_records-instance_method" title="Groonga::Record#n_sub_records (method)">Record#n_sub_records</a></span>でグループに
含まれるレコードの件数を取得できる。</p>
</div>
          
        </li>
      
    </ul>
  
    
    


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>create_table</strong>(name, options = {:type =&gt; :hash}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Create a table that manages record keys by hash table when
you specify <code>:hash</code> to <code>:type</code>.</p>

<p>You can identify a record by key. The table is most fast
table for finding a record by key. But the table doesn’t
support advanced key search features such as common prefix
search and range search.</p>

<p>See description of <code>TABLE_HASH_KEY</code> at <a href="http://groonga.org/docs/reference/tables.html">Groonga documentation
of tables</a>
for details.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{:type =&gt; :hash}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:type</span>
          <span class="type">(<tt>:array</tt>, <tt>:hash</tt>, <tt>:patricia_trie</tt>, <tt>:double_array_trie</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The table type</p>

<p>テーブルの型を指定する。
<code>:array</code>, <code>:hash</code>, <code>:patricia_trie</code>,
<code>:double_array_trie</code> のいずれかを指定する。
(:key_typeの項も参照)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:force</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p><code>true</code>を指定すると既存の同名のテーブルが
存在していても、強制的にテーブルを作成する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Groonga::Context</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:path</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The path</p>

<p>テーブルを保存するパスを指定する。
パスを指定すると永続テーブルになる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:persistent</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The persistent</p>

<p>テーブルを永続テーブルとする。<code>:path</code>を省略した場合は
パス名は自動的に作成される。デフォルトでは永続テーブルとなる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:value_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The value_type</p>

<p>値の型を指定する。省略すると値のための領域を確保しない。
値を保存したい場合は必ず指定すること。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:sub_records</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The sub_records</p>

<p><code>true</code>を指定するとTable#groupで
グループ化したときに、<span class='object_link'><a href="Record.html#n_sub_records-instance_method" title="Groonga::Record#n_sub_records (method)">Record#n_sub_records</a></span>でグループに
含まれるレコードの件数を取得できる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The key_type</p>

<p>キーの種類を示すオブジェクトを指定する。キーの種類には型名
（<code>"Int32"</code>や<code>"ShortText"</code>など）または <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span>また
はテーブル（ <span class='object_link'><a href="Array.html" title="Groonga::Array (class)">Array</a></span> 、 <span class='object_link'><a href="Hash.html" title="Groonga::Hash (class)">Hash</a></span> 、
<span class='object_link'><a href="PatriciaTrie.html" title="Groonga::PatriciaTrie (class)">PatriciaTrie</a></span> 、 <span class='object_link'><a href="DoubleArrayTrie.html" title="Groonga::DoubleArrayTrie (class)">DoubleArrayTrie</a></span> のど
れか）を指定する。 <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span> を指定した場合は、その
型が示す範囲の値をキーとして使用する。ただし、キーの最大サ
イズは4096バイトであるため、 Type::TEXT や
Type::LONG_TEXT は使用できない。テーブルを指定
した場合はレコードIDをキーとして使用する。指定したテーブル
の <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> をキーとして使用することもでき、その
場合は自動的に <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> からレコードIDを取得する。
省略した場合は文字列をキーとして使用する。この場合、4096バ
イトまで使用可能である。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:default_tokenizer</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The default_tokenizer</p>

<p><span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> で
使用するトークナイザを指定する。デフォルトでは
何も設定されていないので、テーブルに
<span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> を定義する場合は <code>"TokenBigram"</code>
などを指定する必要がある。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:token_filters</span>
          <span class="type">(<tt>::Array&lt;String, Groonga::Procedure&gt;</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The token filters to be used
in the table.</p>

<p>Here is an example to set two token filters.</p>

<p><code>ruby
Groonga::Schema.define do |schema|
  schema.create_table("Terms",
                      # ...
                      :token_filters =&gt; [
                        "TokenFilterStem",
                        "TokenFilterStopWord",
                      ]) do |table|
    # ...
  end
end
</code></p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_normalize</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Keys are normalized
if this value is <code>true</code>.</p>

<p>@deprecated Use <code>:normalizer =&gt; "NormalizerAuto"</code> instead.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:normalizer</span>
          <span class="type">(<tt>String</tt>, <tt>Groonga::Procedure</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The normalizer that is used by <span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span>. You
can specify this by normalizer name as String such as
<code>"NormalizerAuto"</code> or normalizer object.</p>
</div>
          
        </li>
      
    </ul>
  
    
    


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>create_table</strong>(name, options = {:type =&gt; :patricia_trie}, &amp;block)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Create a table that manages record keys by patricia trie
when you specify <code>:patricia_trie</code> to <code>:type</code>.</p>

<p>You can identify a record by key. The table is most small
table. The table supports advanced key search features such
as prefix search and range search. The table is suitable for
lexicon of full-text search and index of range search.</p>

<p>See description of <code>TABLE_PAT_KEY</code> at <a href="http://groonga.org/docs/reference/tables.html">Groonga documentation
of tables</a>
for details.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{:type =&gt; :patricia_trie}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:type</span>
          <span class="type">(<tt>:array</tt>, <tt>:hash</tt>, <tt>:patricia_trie</tt>, <tt>:double_array_trie</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The table type</p>

<p>テーブルの型を指定する。
<code>:array</code>, <code>:hash</code>, <code>:patricia_trie</code>,
<code>:double_array_trie</code> のいずれかを指定する。
(:key_typeの項も参照)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:force</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p><code>true</code>を指定すると既存の同名のテーブルが
存在していても、強制的にテーブルを作成する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Groonga::Context</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:path</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The path</p>

<p>テーブルを保存するパスを指定する。
パスを指定すると永続テーブルになる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:persistent</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The persistent</p>

<p>テーブルを永続テーブルとする。<code>:path</code>を省略した場合は
パス名は自動的に作成される。デフォルトでは永続テーブルとなる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:value_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The value_type</p>

<p>値の型を指定する。省略すると値のための領域を確保しない。
値を保存したい場合は必ず指定すること。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:sub_records</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The sub_records</p>

<p><code>true</code>を指定するとTable#groupで
グループ化したときに、<span class='object_link'><a href="Record.html#n_sub_records-instance_method" title="Groonga::Record#n_sub_records (method)">Record#n_sub_records</a></span>でグループに
含まれるレコードの件数を取得できる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The key_type</p>

<p>キーの種類を示すオブジェクトを指定する。キーの種類には型名
（<code>"Int32"</code>や<code>"ShortText"</code>など）または <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span>また
はテーブル（ <span class='object_link'><a href="Array.html" title="Groonga::Array (class)">Array</a></span> 、 <span class='object_link'><a href="Hash.html" title="Groonga::Hash (class)">Hash</a></span> 、
<span class='object_link'><a href="PatriciaTrie.html" title="Groonga::PatriciaTrie (class)">PatriciaTrie</a></span> 、 <span class='object_link'><a href="DoubleArrayTrie.html" title="Groonga::DoubleArrayTrie (class)">DoubleArrayTrie</a></span> のど
れか）を指定する。 <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span> を指定した場合は、その
型が示す範囲の値をキーとして使用する。ただし、キーの最大サ
イズは4096バイトであるため、 Type::TEXT や
Type::LONG_TEXT は使用できない。テーブルを指定
した場合はレコードIDをキーとして使用する。指定したテーブル
の <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> をキーとして使用することもでき、その
場合は自動的に <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> からレコードIDを取得する。
省略した場合は文字列をキーとして使用する。この場合、4096バ
イトまで使用可能である。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:default_tokenizer</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The default_tokenizer</p>

<p><span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> で
使用するトークナイザを指定する。デフォルトでは
何も設定されていないので、テーブルに
<span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> を定義する場合は <code>"TokenBigram"</code>
などを指定する必要がある。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:token_filters</span>
          <span class="type">(<tt>::Array&lt;String, Groonga::Procedure&gt;</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The token filters to be used
in the table.</p>

<p>Here is an example to set two token filters.</p>

<p><code>ruby
Groonga::Schema.define do |schema|
  schema.create_table("Terms",
                      # ...
                      :token_filters =&gt; [
                        "TokenFilterStem",
                        "TokenFilterStopWord",
                      ]) do |table|
    # ...
  end
end
</code></p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_normalize</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Keys are normalized
if this value is <code>true</code>.</p>

<p>@deprecated Use <code>:normalizer =&gt; "NormalizerAuto"</code> instead.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:normalizer</span>
          <span class="type">(<tt>String</tt>, <tt>Groonga::Procedure</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The normalizer that is used by <span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span>. You
can specify this by normalizer name as String such as
<code>"NormalizerAuto"</code> or normalizer object.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_with_sis</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>+true+ を指定するとキーの文字列の
全suffixが自動的に登録される。</p>
</div>
          
        </li>
      
    </ul>
  
    
    


</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">#<strong>create_table</strong>(name, options = {:type =&gt; :double_array_trie})  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> </span>
        <div class="docstring">
  <div class="discussion">
    <p>Create a table that manages record keys by double array trie
when you specify <code>:double_array_trie</code> to <code>:type</code>.</p>

<p>You can identify a record by key. The table is fast table
for finding a record by key. But the table is large. The
table supports advanced key search features such as prefix
search and range search.</p>

<p>The table is the only table that supports renaming key. The
table is used in Groonga database to manage object names
such as <code>ShortText</code> and <code>TokenBigram</code>.</p>

<p>See description of <code>TABLE_DAT_KEY</code> at <a href="http://groonga.org/docs/reference/tables.html">Groonga documentation
of tables</a>
for details.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{:type =&gt; :double_array_trie}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:type</span>
          <span class="type">(<tt>:array</tt>, <tt>:hash</tt>, <tt>:patricia_trie</tt>, <tt>:double_array_trie</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The table type</p>

<p>テーブルの型を指定する。
<code>:array</code>, <code>:hash</code>, <code>:patricia_trie</code>,
<code>:double_array_trie</code> のいずれかを指定する。
(:key_typeの項も参照)</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:force</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p><code>true</code>を指定すると既存の同名のテーブルが
存在していても、強制的にテーブルを作成する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Groonga::Context</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:path</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The path</p>

<p>テーブルを保存するパスを指定する。
パスを指定すると永続テーブルになる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:persistent</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The persistent</p>

<p>テーブルを永続テーブルとする。<code>:path</code>を省略した場合は
パス名は自動的に作成される。デフォルトでは永続テーブルとなる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:value_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The value_type</p>

<p>値の型を指定する。省略すると値のための領域を確保しない。
値を保存したい場合は必ず指定すること。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:sub_records</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The sub_records</p>

<p><code>true</code>を指定するとTable#groupで
グループ化したときに、<span class='object_link'><a href="Record.html#n_sub_records-instance_method" title="Groonga::Record#n_sub_records (method)">Record#n_sub_records</a></span>でグループに
含まれるレコードの件数を取得できる。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_type</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The key_type</p>

<p>キーの種類を示すオブジェクトを指定する。キーの種類には型名
（<code>"Int32"</code>や<code>"ShortText"</code>など）または <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span>また
はテーブル（ <span class='object_link'><a href="Array.html" title="Groonga::Array (class)">Array</a></span> 、 <span class='object_link'><a href="Hash.html" title="Groonga::Hash (class)">Hash</a></span> 、
<span class='object_link'><a href="PatriciaTrie.html" title="Groonga::PatriciaTrie (class)">PatriciaTrie</a></span> 、 <span class='object_link'><a href="DoubleArrayTrie.html" title="Groonga::DoubleArrayTrie (class)">DoubleArrayTrie</a></span> のど
れか）を指定する。 <span class='object_link'><a href="Type.html" title="Groonga::Type (class)">Type</a></span> を指定した場合は、その
型が示す範囲の値をキーとして使用する。ただし、キーの最大サ
イズは4096バイトであるため、 Type::TEXT や
Type::LONG_TEXT は使用できない。テーブルを指定
した場合はレコードIDをキーとして使用する。指定したテーブル
の <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> をキーとして使用することもでき、その
場合は自動的に <span class='object_link'><a href="Record.html" title="Groonga::Record (class)">Record</a></span> からレコードIDを取得する。
省略した場合は文字列をキーとして使用する。この場合、4096バ
イトまで使用可能である。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:default_tokenizer</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The default_tokenizer</p>

<p><span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> で
使用するトークナイザを指定する。デフォルトでは
何も設定されていないので、テーブルに
<span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span> を定義する場合は <code>"TokenBigram"</code>
などを指定する必要がある。</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:token_filters</span>
          <span class="type">(<tt>::Array&lt;String, Groonga::Procedure&gt;</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>nil</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The token filters to be used
in the table.</p>

<p>Here is an example to set two token filters.</p>

<p><code>ruby
Groonga::Schema.define do |schema|
  schema.create_table("Terms",
                      # ...
                      :token_filters =&gt; [
                        "TokenFilterStem",
                        "TokenFilterStopWord",
                      ]) do |table|
    # ...
  end
end
</code></p>
</div>
          
        </li>
      
        <li>
          <span class="name">:key_normalize</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>false</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Keys are normalized
if this value is <code>true</code>.</p>

<p>@deprecated Use <code>:normalizer =&gt; "NormalizerAuto"</code> instead.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:normalizer</span>
          <span class="type">(<tt>String</tt>, <tt>Groonga::Procedure</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The normalizer that is used by <span class='object_link'><a href="IndexColumn.html" title="Groonga::IndexColumn (class)">IndexColumn</a></span>. You
can specify this by normalizer name as String such as
<code>"NormalizerAuto"</code> or normalizer object.</p>
</div>
          
        </li>
      
    </ul>
  


</div>
      </li>
    
  </ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>definition</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


669
670
671
672
673</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 669</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_table'>create_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_definition'>definition</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Schema/TableDefinition.html" title="Groonga::Schema::TableDefinition (class)">TableDefinition</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_definition'>definition</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='ivar'>@definitions</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_definition'>definition</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="define-instance_method">
  
    #<strong>define</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>定義されたスキーマ定義を実際に実行する。</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


627
628
629
630
631</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 627</span>

<span class='kw'>def</span> <span class='id identifier rubyid_define'>define</span>
  <span class='ivar'>@definitions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_definition'>definition</span><span class='op'>|</span>
    <span class='id identifier rubyid_definition'>definition</span><span class='period'>.</span><span class='id identifier rubyid_define'>define</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dump-instance_method">
  
    #<strong>dump</strong>  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>スキーマの内容を文字列で返す。返された値は
<span class='object_link'><a href="#restore-instance_method" title="Groonga::Schema#restore (method)">#restore</a></span> することによりスキーマ内に組み込むことができる。</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


646
647
648
649
650</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 646</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dump'>dump</span>
  <span class='id identifier rubyid_dumper'>dumper</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="SchemaDumper.html" title="Groonga::SchemaDumper (class)">SchemaDumper</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="SchemaDumper.html#initialize-instance_method" title="Groonga::SchemaDumper#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='symbol'>:context</span> <span class='op'>=&gt;</span> <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:context</span><span class='rbracket'>]</span><span class='comma'>,</span>
                            <span class='symbol'>:syntax</span> <span class='op'>=&gt;</span> <span class='ivar'>@options</span><span class='lbracket'>[</span><span class='symbol'>:syntax</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='symbol'>:ruby</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_dumper'>dumper</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_column-instance_method">
  
    #<strong>remove_column</strong>(table_name, column_name)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>以下と同様:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_change_table'>change_table</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
  <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_remove_column'>remove_column</span><span class='lparen'>(</span><span class='id identifier rubyid_column_name'>column_name</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


743
744
745
746
747</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 743</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_column'>remove_column</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_column_name'>column_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_change_table'>change_table</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
    <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_remove_column'>remove_column</span><span class='lparen'>(</span><span class='id identifier rubyid_column_name'>column_name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="remove_table-instance_method">
  
    #<strong>remove_table</strong>(name, options = {})  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>名前が <em>name</em> のテーブルを削除する。</p>

<p>テーブルの削除は# <span class='object_link'><a href="#define-class_method" title="Groonga::Schema.define (method)">define</a></span> を呼び出すまでは実行されないこ
とに注意すること。</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The context</p>

<p>スキーマ定義時に使用する <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> を指定する。</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


698
699
700
701</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 698</span>

<span class='kw'>def</span> <span class='id identifier rubyid_remove_table'>remove_table</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_definition'>definition</span> <span class='op'>=</span> <span class='const'>TableRemoveDefinition</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='ivar'>@definitions</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_definition'>definition</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rename_column-instance_method">
  
    #<strong>rename_column</strong>(table_name, current_column_name, new_column_name)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>It is a syntax sugar of the following:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_schema'>schema</span><span class='period'>.</span><span class='id identifier rubyid_change_table'>change_table</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
  <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_rename_column'>rename_column</span><span class='lparen'>(</span><span class='id identifier rubyid_current_column_name'>current_column_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_column_name'>new_column_name</span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


757
758
759
760
761</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 757</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rename_column'>rename_column</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='comma'>,</span> <span class='id identifier rubyid_current_column_name'>current_column_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_column_name'>new_column_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_change_table'>change_table</span><span class='lparen'>(</span><span class='id identifier rubyid_table_name'>table_name</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
    <span class='id identifier rubyid_table'>table</span><span class='period'>.</span><span class='id identifier rubyid_rename_column'>rename_column</span><span class='lparen'>(</span><span class='id identifier rubyid_current_column_name'>current_column_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_column_name'>new_column_name</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="rename_table-instance_method">
  
    #<strong>rename_table</strong>(current_name, new_name, options = {})  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Renames <em>current_name</em> table to _new_name.</p>

<p>Note that table renaming will will not be performed
until <span class='object_link'><a href="#define-instance_method" title="Groonga::Schema#define (method)">#define</a></span> is called.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:context</span>
          <span class="type">(<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Groonga::Context.default</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The <span class='object_link'><a href="Context.html" title="Groonga::Context (class)">Context</a></span> to be used in renaming.</p>
</div>
          
        </li>
      
    </ul>
  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


729
730
731
732
733</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 729</span>

<span class='kw'>def</span> <span class='id identifier rubyid_rename_table'>rename_table</span><span class='lparen'>(</span><span class='id identifier rubyid_current_name'>current_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='ivar'>@options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_definition'>definition</span> <span class='op'>=</span> <span class='const'>TableRenameDefinition</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_current_name'>current_name</span><span class='comma'>,</span> <span class='id identifier rubyid_new_name'>new_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='ivar'>@definitions</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_definition'>definition</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restore-instance_method">
  
    #<strong>restore</strong>(dumped_text)  &#x21d2; <tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='load-instance_method'>load</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p><span class='object_link'><a href="#dump-instance_method" title="Groonga::Schema#dump (method)">#dump</a></span> で返されたスキーマの内容を読み込む。</p>

<p>読み込まれた内容は <span class='object_link'><a href="#define-instance_method" title="Groonga::Schema#define (method)">#define</a></span> を呼び出すまでは実行されない
ことに注意すること。</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


637
638
639</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/groonga/schema.rb', line 637</span>

<span class='kw'>def</span> <span class='id identifier rubyid_restore'>restore</span><span class='lparen'>(</span><span class='id identifier rubyid_dumped_text'>dumped_text</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='id identifier rubyid_dumped_text'>dumped_text</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
    </div>

    <div class="sponsors">
      <p id="sponsor-github">
        <a href="https://github.com/ranguba/">
          <img src="../../../github-logo.png" width="100" height="45" border="0" alt="The Ranguba project uses GitHub's git repositories." />
        </a>
      </p>
      <p id="sponsor-tango">
	<a href="http://tango.freedesktop.org/">
          <img width="120" height="53" border="0" alt="Tango Desktop Project's icons are used." src="../../../tango-logo.png" />
        </a>
      </p>
      <p id="sponsor-famfamfam">
	<a href="http://www.famfamfam.com/">
          <img width="120" height="18" border="0" alt="famfamfam.com's flags are used." src="../../../famfamfam-logo.png" />
        </a>
      </p>
    </div>

</div>
  </body>
</html>