<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../ranguba.css" type="text/css" />
    <link rel="shortcut icon" href="../../../favicon.ico" />
    <link rel="icon" href="../../../favicon.png" />
    <title>
  Class: Groonga::Type
  
    &mdash; rroonga
  
 - Ranguba</title>


  <link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
<div class="header">
  <div class="title">
    <a href="../../../">
      <span class="title">
  Class: Groonga::Type
  
    &mdash; rroonga
  
</span>
      <span class="title-separator">-</span>
      <span class="title-project">Ranguba</span>
    </a>
  </div>
  <ul class="other-languages">
    <li id="other-language-japanese" lang="ja" xml:lang="ja"><a href="../../../rroonga/ja/Groonga/Type.html">日本語</a></li>
  </ul>
  <ul class="menu">
    <li id="menu-reference"><a href="../../../rroonga/en/">Reference Manual</a></li>
    <li id="menu-tutorial"><a href="../../../rroonga/en/file.tutorial.html">Tutorial</a></li>
    <li id="menu-install"><a href="../../../#install-rroonga">Install</a></li>
    <li id="menu-developer"><a href="../../../developer.html">Developer</a></li>
  </ul>
</div>

<div class="content">


    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Groonga.html" title="Groonga (module)">Groonga</a></span></span>
     &raquo; 
    <span class="title">Type</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Groonga::Type
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></li>
          
            <li class="next">Groonga::Type</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">ext/groonga/rb-grn-type.c<span class="defines">,<br />
  ext/groonga/rb-grn-type.c</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>groongaのテーブルの主キーや、カラムの値の型のためのオブジェ
クト。型として使用可能なものはgroongaで予め定義済みの型、ユ
ーザが定義する型、またはユーザが定義したテーブル。</p>

  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="OBJECT-constant" class="">OBJECT =
          <div class="docstring">
  <div class="discussion">
    <p>任意のテーブルに属する全てのレコード(Object型はv1.2で
      サポートされます)。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_OBJECT</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="BOOLEAN-constant" class="">BOOLEAN =
          <div class="docstring">
  <div class="discussion">
    <p>bool型。trueとfalse。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_BOOL</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="BOOL-constant" class="">BOOL =
          <div class="docstring">
  <div class="discussion">
    <p>bool型。trueとfalse。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_BOOL</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="INT8-constant" class="">INT8 =
          <div class="docstring">
  <div class="discussion">
    <p>8bit符号付き整数。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_INT8</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="UINT8-constant" class="">UINT8 =
          <div class="docstring">
  <div class="discussion">
    <p>8bit符号なし整数。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_UINT8</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="INT16-constant" class="">INT16 =
          <div class="docstring">
  <div class="discussion">
    <p>16bit符号付き整数。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_INT16</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="UINT16-constant" class="">UINT16 =
          <div class="docstring">
  <div class="discussion">
    <p>16bit符号なし整数。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_UINT16</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="INT32-constant" class="">INT32 =
          <div class="docstring">
  <div class="discussion">
    <p>32bit符号付き整数。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_INT32</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="UINT32-constant" class="">UINT32 =
          <div class="docstring">
  <div class="discussion">
    <p>32bit符号なし整数。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_UINT32</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="INT64-constant" class="">INT64 =
          <div class="docstring">
  <div class="discussion">
    <p>64bit符号付き整数。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_INT64</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="UINT64-constant" class="">UINT64 =
          <div class="docstring">
  <div class="discussion">
    <p>64bit符号なし整数。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_UINT64</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="FLOAT-constant" class="">FLOAT =
          <div class="docstring">
  <div class="discussion">
    <p>ieee754形式の64bit浮動小数点数。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_FLOAT</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="TIME-constant" class="">TIME =
          <div class="docstring">
  <div class="discussion">
    <p>1970年1月1日0時0分0秒からの経過マイクロ秒数を64bit符
      号付き整数で表現した値。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_TIME</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="SHORT_TEXT-constant" class="">SHORT_TEXT =
          <div class="docstring">
  <div class="discussion">
    <p>4Kbyte以下の文字列。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_SHORT_TEXT</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="TEXT-constant" class="">TEXT =
          <div class="docstring">
  <div class="discussion">
    <p>64Kbyte以下の文字列。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_TEXT</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="LONG_TEXT-constant" class="">LONG_TEXT =
          <div class="docstring">
  <div class="discussion">
    <p>2Gbyte以下の文字列。</p>

  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_LONG_TEXT</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="DELIMIT-constant" class="">DELIMIT =
          
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_DELIMIT</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="UNIGRAM-constant" class="">UNIGRAM =
          
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_UNIGRAM</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="BIGRAM-constant" class="">BIGRAM =
          
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_BIGRAM</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="TRIGRAM-constant" class="">TRIGRAM =
          
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_TRIGRAM</span><span class='rparen'>)</span></pre></dd>
      
        <dt id="MECAB-constant" class="">MECAB =
          
        </dt>
        <dd><pre class="code"><span class='const'>INT2NUM</span><span class='lparen'>(</span><span class='const'>GRN_DB_MECAB</span><span class='rparen'>)</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#Groonga::Type.new (instance method)">- (Object) <strong>Groonga::Type.new</strong>(name, options = {}) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>名前が <em>name</em> の型を作成する。 <em>options</em> に指定可能な値は以下の通
り。.</p></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Object.html#%3D%3D-instance_method" title="Groonga::Object#== (method)">#==</a></span>, <span class='object_link'><a href="Object.html#%5B%5D-instance_method" title="Groonga::Object#[] (method)">#[]</a></span>, <span class='object_link'><a href="Object.html#%5B%5D%3D-instance_method" title="Groonga::Object#[]= (method)">#[]=</a></span>, <span class='object_link'><a href="Object.html#append-instance_method" title="Groonga::Object#append (method)">#append</a></span>, <span class='object_link'><a href="Object.html#builtin%3F-instance_method" title="Groonga::Object#builtin? (method)">#builtin?</a></span>, <span class='object_link'><a href="Object.html#close-instance_method" title="Groonga::Object#close (method)">#close</a></span>, <span class='object_link'><a href="Object.html#closed%3F-instance_method" title="Groonga::Object#closed? (method)">#closed?</a></span>, <span class='object_link'><a href="Object.html#domain-instance_method" title="Groonga::Object#domain (method)">#domain</a></span>, <span class='object_link'><a href="Object.html#id-instance_method" title="Groonga::Object#id (method)">#id</a></span>, <span class='object_link'><a href="Object.html#inspect-instance_method" title="Groonga::Object#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="Object.html#name-instance_method" title="Groonga::Object#name (method)">#name</a></span>, <span class='object_link'><a href="Object.html#path-instance_method" title="Groonga::Object#path (method)">#path</a></span>, <span class='object_link'><a href="Object.html#persistent%3F-instance_method" title="Groonga::Object#persistent? (method)">#persistent?</a></span>, <span class='object_link'><a href="Object.html#prepend-instance_method" title="Groonga::Object#prepend (method)">#prepend</a></span>, <span class='object_link'><a href="Object.html#range-instance_method" title="Groonga::Object#range (method)">#range</a></span>, <span class='object_link'><a href="Object.html#remove-instance_method" title="Groonga::Object#remove (method)">#remove</a></span>, <span class='object_link'><a href="Object.html#temporary%3F-instance_method" title="Groonga::Object#temporary? (method)">#temporary?</a></span>, <span class='object_link'><a href="Object.html#unlink-instance_method" title="Groonga::Object#unlink (method)">#unlink</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="Object.html" title="Groonga::Object (class)">Object</a></span></tt>) <strong>Groonga::Type.new</strong>(name, options = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>名前が <em>name</em> の型を作成する。 <em>options</em> に指定可能な値は以下の通
り。</p>

  </div>
</div>
<div class="tags">
  
  
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>::Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The name and value
pairs. Omitted names are initialized as the default value</p></div>
      
    </li>
  
</ul>

  


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'ext/groonga/rb-grn-type.c', line 79</span>

static VALUE
rb_grn_type_initialize (int argc, VALUE *argv, VALUE self)
{
    grn_ctx *context;
    grn_obj *type;
    const char *name = NULL;
    unsigned name_size, size = 0;
    grn_obj_flags flags = 0;
    VALUE rb_name, options, rb_context, rb_type, rb_size;

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;rb_name, &amp;options);

    rb_grn_scan_options(options,
			&quot;context&quot;, &amp;rb_context,
			&quot;type&quot;, &amp;rb_type,
			&quot;size&quot;, &amp;rb_size,
			NULL);

    name = StringValuePtr(rb_name);
    name_size = RSTRING_LEN(rb_name);

    context = rb_grn_context_ensure(&amp;rb_context);

    if (NIL_P(rb_type) ||
	rb_grn_equal_option(rb_type, &quot;variable&quot;)) {
        flags = GRN_OBJ_KEY_VAR_SIZE;
    } else if (rb_grn_equal_option(rb_type, &quot;integer&quot;) ||
               rb_grn_equal_option(rb_type, &quot;int&quot;)) {
	flags = GRN_OBJ_KEY_INT;
        size = sizeof(int);
    } else if (rb_grn_equal_option(rb_type, &quot;unsigned_integer&quot;) ||
	       rb_grn_equal_option(rb_type, &quot;uint&quot;)) {
	flags = GRN_OBJ_KEY_UINT;
        size = sizeof(unsigned int);
    } else if (rb_grn_equal_option(rb_type, &quot;float&quot;)) {
	flags = GRN_OBJ_KEY_FLOAT;
        size = sizeof(double);
    } else {
	rb_raise(rb_eArgError,
		 &quot;:type should be one of &quot;
		 &quot;[:integer, :int, :unsigned_integer, :uint, &quot;
		 &quot;:float, :variable]: %s&quot;,
		 rb_grn_inspect(options));
    }

    if (NIL_P(rb_size)) {
        if (size == 0)
            rb_raise(rb_eArgError, &quot;size is missing: %s&quot;,
                     rb_grn_inspect(options));
    } else {
        size = NUM2UINT(rb_size);
    }

    type = grn_type_create(context, name, name_size, flags, size);
    rb_grn_object_assign(Qnil, self, rb_context, context, type);
    rb_grn_context_check(context, rb_ary_new4(argc, argv));

    return Qnil;
}</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


</div>

    <div id="footer"></div>

  
    </div>

    <div class="sponsors">
      <p id="sponsor-rubyforge">
        <a href="http://rubyforge.org/projects/groonga/">
          <img src="../../../rubyforge.png" width="120" height="24" border="0" alt="The Ranguba project is hosted on RubyForge.org." />
        </a>
      </p>
      <p id="sponsor-github">
        <a href="https://github.com/ranguba/">
          <img src="../../../github-logo.png" width="100" height="45" border="0" alt="The Ranguba project uses GitHub's git repositories." />
        </a>
      </p>
      <p id="sponsor-tango">
	<a href="http://tango.freedesktop.org/">
          <img width="120" height="53" border="0" alt="Tango Desktop Project's icons are used." src="../../../tango-logo.png" />
        </a>
      </p>
      <p id="sponsor-famfamfam">
	<a href="http://www.famfamfam.com/">
          <img width="120" height="18" border="0" alt="famfamfam.com's flags are used." src="../../../famfamfam-logo.png" />
        </a>
      </p>

<!-- Piwik -->
<a href="http://piwik.org" title="Web analytics" onclick="window.open(this.href);return(false);">
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://www.clear-code.com/piwik/" : "http://www.clear-code.com/piwik/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
piwik_action_name = '';
piwik_idsite = 2;
piwik_url = pkBaseURL + "piwik.php";
piwik_log(piwik_action_name, piwik_idsite, piwik_url);
</script>
<object><noscript><p>Web analytics <img src="http://www.clear-code.com/piwik/piwik.php?idsite=2" style="border:0" alt=""/></p></noscript></object></a>
<!-- End Piwik Tag -->
    </div>

</body>
</html>